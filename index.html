<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Transaction Analysis Chart</title>
    <script src="https://cdn.jsdelivr.net/npm/ethers@6.6.1/dist/ethers.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        .chart-container {
            width: 90%;
            margin: 20px auto;
            padding: 20px;
            height: 600px;
        }
    </style>
</head>
<body>
    <div class="chart-container">
        <canvas id="transactionChart"></canvas>
    </div>

    <script>
        async function getTransactionData() {
            const provider = new ethers.JsonRpcProvider("http://127.0.0.1:7545");
            const transactionPairs = new Map(); // Map to store (from,to) -> {count, totalAmount}

            try {
                const latestBlockNumber = await provider.getBlockNumber();
                console.log("Latest Block Number:", latestBlockNumber);

                for (let blockNumber = 1; blockNumber <= latestBlockNumber; blockNumber++) {
                    const block = await provider.getBlock(blockNumber);
                    
                    if (!block.transactions || block.transactions.length === 0) {
                        continue;
                    }

                    for (const txHash of block.transactions) {
                        const transaction = await provider.getTransaction(txHash);
                        
                        if (transaction.to && transaction.value > 0) {
                            const valueInEther = Number(ethers.formatEther(transaction.value));
                            const pairKey = ${transaction.from},${transaction.to};
                            
                            if (transactionPairs.has(pairKey)) {
                                const existing = transactionPairs.get(pairKey);
                                transactionPairs.set(pairKey, {
                                    count: existing.count + 1,
                                    totalAmount: existing.totalAmount + valueInEther
                                });
                            } else {
                                transactionPairs.set(pairKey, {
                                    count: 1,
                                    totalAmount: valueInEther
                                });
                            }
                        }
                    }
                }

                return transactionPairs;
            } catch (error) {
                console.error("Error fetching transaction data:", error);
                return new Map();
            }
        }

        function formatAddressPair(pairKey) {
            const [from, to] = pairKey.split(',');
            return ${from.substring(0, 6)}...${from.substring(from.length - 4)} →\n${to.substring(0, 6)}...${to.substring(to.length - 4)};
        }

        async function createChart() {
            const transactionData = await getTransactionData();
            const pairKeys = Array.from(transactionData.keys());
            const counts = pairKeys.map(key => transactionData.get(key).count);
            const amounts = pairKeys.map(key => transactionData.get(key).totalAmount);

            const ctx = document.getElementById('transactionChart').getContext('2d');
            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: pairKeys.map(formatAddressPair),
                    datasets: [
                        {
                            label: 'Transaction Count',
                            data: counts,
                            backgroundColor: 'rgba(54, 162, 235, 0.7)',
                            borderColor: 'rgba(54, 162, 235, 1)',
                            borderWidth: 1
                        },
                        {
                            label: 'Total Amount (ETH)',
                            data: amounts,
                            backgroundColor: 'rgba(255, 99, 132, 0.7)',
                            borderColor: 'rgba(255, 99, 132, 1)',
                            borderWidth: 1
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            position: 'left',
                            title: {
                                display: true,
                                text: 'Values'
                            }
                        },
                        x: {
                            title: {
                                display: true,
                                text: 'Address Pairs (From → To)'
                            },
                            ticks: {
                                maxRotation: 45,
                                minRotation: 45
                            }
                        }
                    },
                    plugins: {
                        tooltip: {
                            callbacks: {
                                title: function(context) {
                                    const pairKey = pairKeys[context[0].dataIndex];
                                    const [from, to] = pairKey.split(',');
                                    return [From: ${from}, To: ${to}];
                                },
                                label: function(context) {
                                    if (context.datasetIndex === 0) {
                                        return Number of Transactions: ${context.raw};
                                    } else {
                                        return Total Amount: ${context.raw.toFixed(4)} ETH;
                                    }
                                }
                            }
                        },
                        legend: {
                            display: true,
                            position: 'top'
                        }
                    }
                }
            });
        }

        // Initialize the chart when the page loads
        createChart().catch(console.error);
    </script>
</body>
</html>

This is also another file to be uploaded in the same repository kindly chance the Read me file 